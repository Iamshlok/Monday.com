{"ast":null,"code":"export async function createItem(boardId, groupId, itemData) {\n  // Construct the mutation query dynamically\n  const columnValues = Object.keys(itemData).map(columnId => {\n    const columnValue = itemData[columnId];\n    const columnVal = columnValue.linkedPulseId; // Handle 'board-relation' column separately\n\n    if (columnValue && columnValue.linkedPulseId) {\n      return `\"${columnId}\": { \"linkedPulseIds\": [\"${columnValue.linkedPulseId}\"], \"text\": \"${columnValue.text}\" }`;\n    } else {\n      // Handle other columns\n      return `\"${columnId}\": \"${columnValue}\"`;\n    }\n  });\n  const query = `mutation {\n    create_item (\n      board_id: ${boardId},\n      group_id: \"${groupId}\",\n      item_name: \"${itemData.name}\",\n      column_values: {${columnValues.join(',')}}\n    ) {\n      id\n    }\n  }`; // Make the API request with the dynamic query\n\n  const response = await fetch(\"https://api.monday.com/v2\", {\n    method: 'post',\n    headers: {\n      'Content-Type': 'application/json',\n      'Authorization': '' // Replace with your API key\n\n    },\n    body: JSON.stringify({\n      'query': query\n    })\n  });\n\n  if (!response.ok) {\n    const responseData = await response.json();\n    console.log(responseData);\n    throw new Error('Failed to create item');\n  }\n\n  const data = await response.json();\n  return data.data;\n}","map":{"version":3,"names":["createItem","boardId","groupId","itemData","columnValues","Object","keys","map","columnId","columnValue","columnVal","linkedPulseId","text","query","name","join","response","fetch","method","headers","body","JSON","stringify","ok","responseData","json","console","log","Error","data"],"sources":["D:/monday.com/Monday.form/quickstart-react/src/mutation.js"],"sourcesContent":["export async function createItem(boardId, groupId, itemData) {\r\n  // Construct the mutation query dynamically\r\n  const columnValues = Object.keys(itemData)\r\n    .map(columnId => {\r\n      const columnValue = itemData[columnId];\r\n      const columnVal = columnValue.linkedPulseId;\r\n      // Handle 'board-relation' column separately\r\n      if (columnValue && columnValue.linkedPulseId) {\r\n        return `\"${columnId}\": { \"linkedPulseIds\": [\"${columnValue.linkedPulseId}\"], \"text\": \"${columnValue.text}\" }`;\r\n      } else {\r\n        // Handle other columns\r\n        return `\"${columnId}\": \"${columnValue}\"`;\r\n      }\r\n    });\r\n\r\n  const query = `mutation {\r\n    create_item (\r\n      board_id: ${boardId},\r\n      group_id: \"${groupId}\",\r\n      item_name: \"${itemData.name}\",\r\n      column_values: {${columnValues.join(',')}}\r\n    ) {\r\n      id\r\n    }\r\n  }`;\r\n\r\n  // Make the API request with the dynamic query\r\n  const response = await fetch(\"https://api.monday.com/v2\", {\r\n    method: 'post',\r\n    headers: {\r\n      'Content-Type': 'application/json',\r\n      'Authorization': '', // Replace with your API key\r\n    },\r\n    body: JSON.stringify({\r\n      'query': query,\r\n    }),\r\n  });\r\n\r\n  if (!response.ok) {\r\n    const responseData = await response.json();\r\n    console.log(responseData);\r\n    throw new Error('Failed to create item');\r\n  }\r\n\r\n  const data = await response.json();\r\n  return data.data;\r\n}\r\n"],"mappings":"AAAA,OAAO,eAAeA,UAAf,CAA0BC,OAA1B,EAAmCC,OAAnC,EAA4CC,QAA5C,EAAsD;EAC3D;EACA,MAAMC,YAAY,GAAGC,MAAM,CAACC,IAAP,CAAYH,QAAZ,EAClBI,GADkB,CACdC,QAAQ,IAAI;IACf,MAAMC,WAAW,GAAGN,QAAQ,CAACK,QAAD,CAA5B;IACA,MAAME,SAAS,GAAGD,WAAW,CAACE,aAA9B,CAFe,CAGf;;IACA,IAAIF,WAAW,IAAIA,WAAW,CAACE,aAA/B,EAA8C;MAC5C,OAAQ,IAAGH,QAAS,4BAA2BC,WAAW,CAACE,aAAc,gBAAeF,WAAW,CAACG,IAAK,KAAzG;IACD,CAFD,MAEO;MACL;MACA,OAAQ,IAAGJ,QAAS,OAAMC,WAAY,GAAtC;IACD;EACF,CAXkB,CAArB;EAaA,MAAMI,KAAK,GAAI;AACjB;AACA,kBAAkBZ,OAAQ;AAC1B,mBAAmBC,OAAQ;AAC3B,oBAAoBC,QAAQ,CAACW,IAAK;AAClC,wBAAwBV,YAAY,CAACW,IAAb,CAAkB,GAAlB,CAAuB;AAC/C;AACA;AACA;AACA,IATE,CAf2D,CA0B3D;;EACA,MAAMC,QAAQ,GAAG,MAAMC,KAAK,CAAC,2BAAD,EAA8B;IACxDC,MAAM,EAAE,MADgD;IAExDC,OAAO,EAAE;MACP,gBAAgB,kBADT;MAEP,iBAAiB,EAFV,CAEc;;IAFd,CAF+C;IAMxDC,IAAI,EAAEC,IAAI,CAACC,SAAL,CAAe;MACnB,SAAST;IADU,CAAf;EANkD,CAA9B,CAA5B;;EAWA,IAAI,CAACG,QAAQ,CAACO,EAAd,EAAkB;IAChB,MAAMC,YAAY,GAAG,MAAMR,QAAQ,CAACS,IAAT,EAA3B;IACAC,OAAO,CAACC,GAAR,CAAYH,YAAZ;IACA,MAAM,IAAII,KAAJ,CAAU,uBAAV,CAAN;EACD;;EAED,MAAMC,IAAI,GAAG,MAAMb,QAAQ,CAACS,IAAT,EAAnB;EACA,OAAOI,IAAI,CAACA,IAAZ;AACD"},"metadata":{},"sourceType":"module"}