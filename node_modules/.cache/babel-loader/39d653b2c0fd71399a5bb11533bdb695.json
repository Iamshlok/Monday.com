{"ast":null,"code":"import _classCallCheck from\"D:/monday.com/Monday.form/quickstart-react/node_modules/@babel/runtime/helpers/esm/classCallCheck.js\";import _createClass from\"D:/monday.com/Monday.form/quickstart-react/node_modules/@babel/runtime/helpers/esm/createClass.js\";import _inherits from\"D:/monday.com/Monday.form/quickstart-react/node_modules/@babel/runtime/helpers/esm/inherits.js\";import _createSuper from\"D:/monday.com/Monday.form/quickstart-react/node_modules/@babel/runtime/helpers/esm/createSuper.js\";import React,{Component}from'react';var ApiCall=/*#__PURE__*/function(_Component){_inherits(ApiCall,_Component);var _super=_createSuper(ApiCall);function ApiCall(props){var _this;_classCallCheck(this,ApiCall);_this=_super.call(this,props);_this.state={groupedItems:{},workspace:'',boardName:''};return _this;}_createClass(ApiCall,[{key:\"componentDidMount\",value:function componentDidMount(){var _this2=this;// Perform the API call to fetch data from Monday.com\nfetch(\"https://api.monday.com/v2\",{method:'post',headers:{'Content-Type':'application/json','Authorization':'eyJhbGciOiJIUzI1NiJ9.eyJ0aWQiOjI5MTk3MzkwMCwiYWFpIjoxMSwidWlkIjo1MDc0MDc5NiwiaWFkIjoiMjAyMy0xMC0yNlQxMTozOToxNy4wMDBaIiwicGVyIjoibWU6d3JpdGUiLCJhY3RpZCI6MTg2ODA3NDQsInJnbiI6InVzZTEifQ.YqNGkoV6ioF5pgYl_F9t32cOSUxaX_ETL_iPmpEjBOk'},body:JSON.stringify({'query':'{boards (ids:5488627974) {name workspace {id name} items{id name group{id title} column_values{id title text value type}}}}'})}).then(function(res){return res.json();}).then(function(data){var boards=data.data.boards;var groupedItems={};var workspace=boards[0].workspace;var boardName=boards[0].name;console.log(workspace);console.log(boardName);var workspaceName=workspace.name;boards.forEach(function(board){board.items.forEach(function(item){var groupId=item.group.id;if(!groupedItems[groupId]){groupedItems[groupId]={title:item.group.title,items:[]};}groupedItems[groupId].items.push(item);});});_this2.setState({groupedItems:groupedItems,workspace:workspaceName,boardName:boardName});console.log(groupedItems);}).catch(function(error){console.error('Error fetching data from Monday.com:',error);});}},{key:\"render\",value:function render(){return this.props.render(this.state.groupedItems,this.state.workspace,this.state.boardName);}}]);return ApiCall;}(Component);export default ApiCall;","map":{"version":3,"names":["React","Component","ApiCall","props","state","groupedItems","workspace","boardName","fetch","method","headers","body","JSON","stringify","then","res","json","data","boards","name","console","log","workspaceName","forEach","board","items","item","groupId","group","id","title","push","setState","catch","error","render"],"sources":["D:/monday.com/Monday.form/quickstart-react/src/API Call/getValues.js"],"sourcesContent":["import React, { Component } from 'react';\r\n\r\nclass ApiCall extends Component {\r\n  constructor(props) {\r\n    super(props);\r\n    this.state = {\r\n      groupedItems: {},\r\n      workspace: '',\r\n      boardName: '',\r\n    };\r\n  }\r\n\r\n  componentDidMount() {\r\n    // Perform the API call to fetch data from Monday.com\r\n    fetch(\"https://api.monday.com/v2\", {\r\n      method: 'post',\r\n      headers: {\r\n        'Content-Type': 'application/json',\r\n        'Authorization': 'eyJhbGciOiJIUzI1NiJ9.eyJ0aWQiOjI5MTk3MzkwMCwiYWFpIjoxMSwidWlkIjo1MDc0MDc5NiwiaWFkIjoiMjAyMy0xMC0yNlQxMTozOToxNy4wMDBaIiwicGVyIjoibWU6d3JpdGUiLCJhY3RpZCI6MTg2ODA3NDQsInJnbiI6InVzZTEifQ.YqNGkoV6ioF5pgYl_F9t32cOSUxaX_ETL_iPmpEjBOk', \r\n      },\r\n      body: JSON.stringify({\r\n        'query': '{boards (ids:5488627974) {name workspace {id name} items{id name group{id title} column_values{id title text value type}}}}', \r\n      })\r\n    })\r\n      .then((res) => res.json())\r\n      .then((data) => {\r\n        const boards = data.data.boards;\r\n        const groupedItems = {};\r\n        const workspace = boards[0].workspace;\r\n        const boardName = boards[0].name;\r\n        console.log(workspace);\r\n        console.log(boardName);\r\n\r\n        const workspaceName = workspace.name;\r\n\r\n        boards.forEach((board) => {\r\n          board.items.forEach((item) => {\r\n            const groupId = item.group.id;\r\n            if (!groupedItems[groupId]) {\r\n              groupedItems[groupId] = {\r\n                title: item.group.title,\r\n                items: [],\r\n              };\r\n            }\r\n            groupedItems[groupId].items.push(item);\r\n          });\r\n        });\r\n\r\n        this.setState({ groupedItems, workspace: workspaceName, boardName });\r\n        console.log(groupedItems);\r\n      })\r\n      .catch((error) => {\r\n        console.error('Error fetching data from Monday.com:', error);\r\n      });\r\n  }\r\n\r\n  render() {\r\n    return this.props.render(this.state.groupedItems, this.state.workspace, this.state.boardName);\r\n  }\r\n}\r\n\r\nexport default ApiCall;\r\n"],"mappings":"gfAAA,MAAOA,MAAP,EAAgBC,SAAhB,KAAiC,OAAjC,C,GAEMC,Q,kGACJ,iBAAYC,KAAZ,CAAmB,yCACjB,uBAAMA,KAAN,EACA,MAAKC,KAAL,CAAa,CACXC,YAAY,CAAE,EADH,CAEXC,SAAS,CAAE,EAFA,CAGXC,SAAS,CAAE,EAHA,CAAb,CAFiB,aAOlB,C,qDAED,4BAAoB,iBAClB;AACAC,KAAK,CAAC,2BAAD,CAA8B,CACjCC,MAAM,CAAE,MADyB,CAEjCC,OAAO,CAAE,CACP,eAAgB,kBADT,CAEP,gBAAiB,qOAFV,CAFwB,CAMjCC,IAAI,CAAEC,IAAI,CAACC,SAAL,CAAe,CACnB,QAAS,6HADU,CAAf,CAN2B,CAA9B,CAAL,CAUGC,IAVH,CAUQ,SAACC,GAAD,QAASA,IAAG,CAACC,IAAJ,EAAT,EAVR,EAWGF,IAXH,CAWQ,SAACG,IAAD,CAAU,CACd,GAAMC,OAAM,CAAGD,IAAI,CAACA,IAAL,CAAUC,MAAzB,CACA,GAAMb,aAAY,CAAG,EAArB,CACA,GAAMC,UAAS,CAAGY,MAAM,CAAC,CAAD,CAAN,CAAUZ,SAA5B,CACA,GAAMC,UAAS,CAAGW,MAAM,CAAC,CAAD,CAAN,CAAUC,IAA5B,CACAC,OAAO,CAACC,GAAR,CAAYf,SAAZ,EACAc,OAAO,CAACC,GAAR,CAAYd,SAAZ,EAEA,GAAMe,cAAa,CAAGhB,SAAS,CAACa,IAAhC,CAEAD,MAAM,CAACK,OAAP,CAAe,SAACC,KAAD,CAAW,CACxBA,KAAK,CAACC,KAAN,CAAYF,OAAZ,CAAoB,SAACG,IAAD,CAAU,CAC5B,GAAMC,QAAO,CAAGD,IAAI,CAACE,KAAL,CAAWC,EAA3B,CACA,GAAI,CAACxB,YAAY,CAACsB,OAAD,CAAjB,CAA4B,CAC1BtB,YAAY,CAACsB,OAAD,CAAZ,CAAwB,CACtBG,KAAK,CAAEJ,IAAI,CAACE,KAAL,CAAWE,KADI,CAEtBL,KAAK,CAAE,EAFe,CAAxB,CAID,CACDpB,YAAY,CAACsB,OAAD,CAAZ,CAAsBF,KAAtB,CAA4BM,IAA5B,CAAiCL,IAAjC,EACD,CATD,EAUD,CAXD,EAaA,MAAI,CAACM,QAAL,CAAc,CAAE3B,YAAY,CAAZA,YAAF,CAAgBC,SAAS,CAAEgB,aAA3B,CAA0Cf,SAAS,CAATA,SAA1C,CAAd,EACAa,OAAO,CAACC,GAAR,CAAYhB,YAAZ,EACD,CApCH,EAqCG4B,KArCH,CAqCS,SAACC,KAAD,CAAW,CAChBd,OAAO,CAACc,KAAR,CAAc,sCAAd,CAAsDA,KAAtD,EACD,CAvCH,EAwCD,C,sBAED,iBAAS,CACP,MAAO,MAAK/B,KAAL,CAAWgC,MAAX,CAAkB,KAAK/B,KAAL,CAAWC,YAA7B,CAA2C,KAAKD,KAAL,CAAWE,SAAtD,CAAiE,KAAKF,KAAL,CAAWG,SAA5E,CAAP,CACD,C,qBAxDmBN,S,EA2DtB,cAAeC,QAAf"},"metadata":{},"sourceType":"module"}