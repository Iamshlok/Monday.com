{"ast":null,"code":"// Your app details\nconst clientId = \"d9f7723980443d9e6d6dc9d49836c1cc\";\nconst redirectUri = \"http://localhost:8301/\";\nconst clientSecret = \"cf250cd44c9d904802289bc656eba713\"; // Step 1: Redirect the user to Monday.com for authorization\n\nconst authorizeUrl = `https://auth.monday.com/oauth2/authorize?client_id=${clientId}&redirect_uri=${redirectUri}&response_type=code`;\nwindow.location.href = authorizeUrl; // Step 2: After user grants permission, Monday.com will redirect back to your specified redirect URI with an authorization code\n// Step 3: Exchange the authorization code for an access token\n// Extract the authorization code from the URL\n\nconst urlParams = new URLSearchParams(window.location.search);\nconst authorizationCode = urlParams.get(\"code\"); // Make a request to exchange the authorization code for an access token\n// ... (previous code remains unchanged)\n// Make a request to exchange the authorization code for an access token\n\nfetch(\"https://auth.monday.com/oauth2/token\", {\n  method: \"POST\",\n  headers: {\n    \"Content-Type\": \"application/x-www-form-urlencoded\"\n  },\n  body: new URLSearchParams({\n    client_id: clientId,\n    client_secret: clientSecret,\n    code: authorizationCode,\n    redirect_uri: redirectUri,\n    grant_type: \"authorization_code\"\n  })\n}).then(response => {\n  if (!response.ok) {\n    throw new Error(`HTTP error! Status: ${response.status}`);\n  }\n\n  return response.json();\n}).then(data => {\n  // Handle the response data\n  const accessToken = data.access_token;\n  console.log(\"Access Token:\", accessToken); // Use the access token to make API requests, like getting the current user's information\n\n  const mondayAPIEndpoint = \"https://api.monday.com/v2\";\n  return fetch(`${mondayAPIEndpoint}/me`, {\n    method: \"GET\",\n    headers: {\n      Authorization: `Bearer ${accessToken}`,\n      \"Content-Type\": \"application/json\"\n    }\n  });\n}).then(response => {\n  if (!response.ok) {\n    throw new Error(`HTTP error! Status: ${response.status}`);\n  }\n\n  return response.json();\n}).then(userData => {\n  // Handle the user data\n  console.log(\"Current User Information:\", userData);\n}).catch(error => {\n  console.error(\"Error:\", error);\n});","map":{"version":3,"names":["clientId","redirectUri","clientSecret","authorizeUrl","window","location","href","urlParams","URLSearchParams","search","authorizationCode","get","fetch","method","headers","body","client_id","client_secret","code","redirect_uri","grant_type","then","response","ok","Error","status","json","data","accessToken","access_token","console","log","mondayAPIEndpoint","Authorization","userData","catch","error"],"sources":["D:/monday.com/Monday.form/quickstart-react/src/LoginForm.js"],"sourcesContent":["// Your app details\r\nconst clientId = \"d9f7723980443d9e6d6dc9d49836c1cc\";\r\nconst redirectUri = \"http://localhost:8301/\";\r\nconst clientSecret = \"cf250cd44c9d904802289bc656eba713\" ;\r\n// Step 1: Redirect the user to Monday.com for authorization\r\nconst authorizeUrl = `https://auth.monday.com/oauth2/authorize?client_id=${clientId}&redirect_uri=${redirectUri}&response_type=code`;\r\nwindow.location.href = authorizeUrl;\r\n\r\n// Step 2: After user grants permission, Monday.com will redirect back to your specified redirect URI with an authorization code\r\n\r\n// Step 3: Exchange the authorization code for an access token\r\n// Extract the authorization code from the URL\r\nconst urlParams = new URLSearchParams(window.location.search);\r\nconst authorizationCode = urlParams.get(\"code\");\r\n\r\n// Make a request to exchange the authorization code for an access token\r\n// ... (previous code remains unchanged)\r\n\r\n// Make a request to exchange the authorization code for an access token\r\nfetch(\"https://auth.monday.com/oauth2/token\", {\r\n  method: \"POST\",\r\n  headers: {\r\n    \"Content-Type\": \"application/x-www-form-urlencoded\",\r\n  },\r\n  body: new URLSearchParams({\r\n    client_id: clientId,\r\n    client_secret: clientSecret,\r\n    code: authorizationCode,\r\n    redirect_uri: redirectUri,\r\n    grant_type: \"authorization_code\",\r\n  }),\r\n})\r\n  .then((response) => {\r\n    if (!response.ok) {\r\n      throw new Error(`HTTP error! Status: ${response.status}`);\r\n    }\r\n    return response.json();\r\n  })\r\n  .then((data) => {\r\n    // Handle the response data\r\n    const accessToken = data.access_token;\r\n    console.log(\"Access Token:\", accessToken);\r\n\r\n    // Use the access token to make API requests, like getting the current user's information\r\n    const mondayAPIEndpoint = \"https://api.monday.com/v2\";\r\n    return fetch(`${mondayAPIEndpoint}/me`, {\r\n      method: \"GET\",\r\n      headers: {\r\n        Authorization: `Bearer ${accessToken}`,\r\n        \"Content-Type\": \"application/json\",\r\n      },\r\n    });\r\n  })\r\n  .then((response) => {\r\n    if (!response.ok) {\r\n      throw new Error(`HTTP error! Status: ${response.status}`);\r\n    }\r\n    return response.json();\r\n  })\r\n  .then((userData) => {\r\n    // Handle the user data\r\n    console.log(\"Current User Information:\", userData);\r\n  })\r\n  .catch((error) => {\r\n    console.error(\"Error:\", error);\r\n  });\r\n"],"mappings":"AAAA;AACA,MAAMA,QAAQ,GAAG,kCAAjB;AACA,MAAMC,WAAW,GAAG,wBAApB;AACA,MAAMC,YAAY,GAAG,kCAArB,C,CACA;;AACA,MAAMC,YAAY,GAAI,sDAAqDH,QAAS,iBAAgBC,WAAY,qBAAhH;AACAG,MAAM,CAACC,QAAP,CAAgBC,IAAhB,GAAuBH,YAAvB,C,CAEA;AAEA;AACA;;AACA,MAAMI,SAAS,GAAG,IAAIC,eAAJ,CAAoBJ,MAAM,CAACC,QAAP,CAAgBI,MAApC,CAAlB;AACA,MAAMC,iBAAiB,GAAGH,SAAS,CAACI,GAAV,CAAc,MAAd,CAA1B,C,CAEA;AACA;AAEA;;AACAC,KAAK,CAAC,sCAAD,EAAyC;EAC5CC,MAAM,EAAE,MADoC;EAE5CC,OAAO,EAAE;IACP,gBAAgB;EADT,CAFmC;EAK5CC,IAAI,EAAE,IAAIP,eAAJ,CAAoB;IACxBQ,SAAS,EAAEhB,QADa;IAExBiB,aAAa,EAAEf,YAFS;IAGxBgB,IAAI,EAAER,iBAHkB;IAIxBS,YAAY,EAAElB,WAJU;IAKxBmB,UAAU,EAAE;EALY,CAApB;AALsC,CAAzC,CAAL,CAaGC,IAbH,CAaSC,QAAD,IAAc;EAClB,IAAI,CAACA,QAAQ,CAACC,EAAd,EAAkB;IAChB,MAAM,IAAIC,KAAJ,CAAW,uBAAsBF,QAAQ,CAACG,MAAO,EAAjD,CAAN;EACD;;EACD,OAAOH,QAAQ,CAACI,IAAT,EAAP;AACD,CAlBH,EAmBGL,IAnBH,CAmBSM,IAAD,IAAU;EACd;EACA,MAAMC,WAAW,GAAGD,IAAI,CAACE,YAAzB;EACAC,OAAO,CAACC,GAAR,CAAY,eAAZ,EAA6BH,WAA7B,EAHc,CAKd;;EACA,MAAMI,iBAAiB,GAAG,2BAA1B;EACA,OAAOpB,KAAK,CAAE,GAAEoB,iBAAkB,KAAtB,EAA4B;IACtCnB,MAAM,EAAE,KAD8B;IAEtCC,OAAO,EAAE;MACPmB,aAAa,EAAG,UAASL,WAAY,EAD9B;MAEP,gBAAgB;IAFT;EAF6B,CAA5B,CAAZ;AAOD,CAjCH,EAkCGP,IAlCH,CAkCSC,QAAD,IAAc;EAClB,IAAI,CAACA,QAAQ,CAACC,EAAd,EAAkB;IAChB,MAAM,IAAIC,KAAJ,CAAW,uBAAsBF,QAAQ,CAACG,MAAO,EAAjD,CAAN;EACD;;EACD,OAAOH,QAAQ,CAACI,IAAT,EAAP;AACD,CAvCH,EAwCGL,IAxCH,CAwCSa,QAAD,IAAc;EAClB;EACAJ,OAAO,CAACC,GAAR,CAAY,2BAAZ,EAAyCG,QAAzC;AACD,CA3CH,EA4CGC,KA5CH,CA4CUC,KAAD,IAAW;EAChBN,OAAO,CAACM,KAAR,CAAc,QAAd,EAAwBA,KAAxB;AACD,CA9CH"},"metadata":{},"sourceType":"module"}