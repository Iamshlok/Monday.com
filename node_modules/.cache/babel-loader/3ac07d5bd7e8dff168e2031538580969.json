{"ast":null,"code":"import React, { Component } from 'react';\n\nclass ApiCall extends Component {\n  constructor(props) {\n    super(props);\n    this.state = {\n      groupedItems: {},\n      workspace: '',\n      boardName: ''\n    };\n  }\n\n  componentDidMount() {\n    // Perform the API call to fetch data from Monday.com\n    fetch(\"https://api.monday.com/v2\", {\n      method: 'post',\n      headers: {\n        'Content-Type': 'application/json',\n        'Authorization': 'eyJhbGciOiJIUzI1NiJ9.eyJ0aWQiOjI5MTk3MzkwMCwiYWFpIjoxMSwidWlkIjo1MDc0MDc5NiwiaWFkIjoiMjAyMy0xMC0yNlQxMTozOToxNy4wMDBaIiwicGVyIjoibWU6d3JpdGUiLCJhY3RpZCI6MTg2ODA3NDQsInJnbiI6InVzZTEifQ.YqNGkoV6ioF5pgYl_F9t32cOSUxaX_ETL_iPmpEjBOk'\n      },\n      body: JSON.stringify({\n        'query': '{boards (ids:5382001836) {name workspace {id name} items{id name group{id title} column_values{id title value type}}}}'\n      })\n    }).then(res => res.json()).then(data => {\n      const boards = data.data.boards;\n      const groupedItems = {};\n      const workspace = boards[0].workspace;\n      const boardName = boards[0].name;\n      console.log(workspace);\n      console.log(boardName);\n      const workspaceName = workspace.name;\n      boards.forEach(board => {\n        board.items.forEach(item => {\n          const groupId = item.group.id;\n\n          if (!groupedItems[groupId]) {\n            groupedItems[groupId] = {\n              title: item.group.title,\n              items: []\n            };\n          }\n\n          groupedItems[groupId].items.push(item);\n        });\n      });\n      this.setState({\n        groupedItems,\n        workspace: workspaceName,\n        boardName\n      });\n      console.log(groupedItems);\n    }).catch(error => {\n      console.error('Error fetching data from Monday.com:', error);\n    });\n  }\n\n  render() {\n    return this.props.render(this.state.groupedItems);\n  }\n\n}\n\nexport default ApiCall;","map":{"version":3,"names":["React","Component","ApiCall","constructor","props","state","groupedItems","workspace","boardName","componentDidMount","fetch","method","headers","body","JSON","stringify","then","res","json","data","boards","name","console","log","workspaceName","forEach","board","items","item","groupId","group","id","title","push","setState","catch","error","render"],"sources":["D:/monday.com/Monday.form/quickstart-react/src/getValues.js"],"sourcesContent":["import React, { Component } from 'react';\r\n\r\nclass ApiCall extends Component {\r\n  constructor(props) {\r\n    super(props);\r\n    this.state = {\r\n      groupedItems: {},\r\n      workspace: '',\r\n      boardName: '',\r\n    };\r\n  }\r\n\r\n  componentDidMount() {\r\n    // Perform the API call to fetch data from Monday.com\r\n    fetch(\"https://api.monday.com/v2\", {\r\n      method: 'post',\r\n      headers: {\r\n        'Content-Type': 'application/json',\r\n        'Authorization': 'eyJhbGciOiJIUzI1NiJ9.eyJ0aWQiOjI5MTk3MzkwMCwiYWFpIjoxMSwidWlkIjo1MDc0MDc5NiwiaWFkIjoiMjAyMy0xMC0yNlQxMTozOToxNy4wMDBaIiwicGVyIjoibWU6d3JpdGUiLCJhY3RpZCI6MTg2ODA3NDQsInJnbiI6InVzZTEifQ.YqNGkoV6ioF5pgYl_F9t32cOSUxaX_ETL_iPmpEjBOk', \r\n      },\r\n      body: JSON.stringify({\r\n        'query': '{boards (ids:5382001836) {name workspace {id name} items{id name group{id title} column_values{id title value type}}}}', \r\n      })\r\n    })\r\n      .then((res) => res.json())\r\n      .then((data) => {\r\n        const boards = data.data.boards;\r\n        const groupedItems = {};\r\n        const workspace = boards[0].workspace;\r\n        const boardName = boards[0].name;\r\n        console.log(workspace);\r\n        console.log(boardName);\r\n\r\n        const workspaceName = workspace.name;\r\n\r\n        boards.forEach((board) => {\r\n          board.items.forEach((item) => {\r\n            const groupId = item.group.id;\r\n            if (!groupedItems[groupId]) {\r\n              groupedItems[groupId] = {\r\n                title: item.group.title,\r\n                items: [],\r\n              };\r\n            }\r\n            groupedItems[groupId].items.push(item);\r\n          });\r\n        });\r\n\r\n        this.setState({ groupedItems, workspace: workspaceName, boardName });\r\n        console.log(groupedItems);\r\n      })\r\n      .catch((error) => {\r\n        console.error('Error fetching data from Monday.com:', error);\r\n      });\r\n  }\r\n\r\n  render() {\r\n    return this.props.render(this.state.groupedItems);\r\n  }\r\n}\r\n\r\nexport default ApiCall;\r\n"],"mappings":"AAAA,OAAOA,KAAP,IAAgBC,SAAhB,QAAiC,OAAjC;;AAEA,MAAMC,OAAN,SAAsBD,SAAtB,CAAgC;EAC9BE,WAAW,CAACC,KAAD,EAAQ;IACjB,MAAMA,KAAN;IACA,KAAKC,KAAL,GAAa;MACXC,YAAY,EAAE,EADH;MAEXC,SAAS,EAAE,EAFA;MAGXC,SAAS,EAAE;IAHA,CAAb;EAKD;;EAEDC,iBAAiB,GAAG;IAClB;IACAC,KAAK,CAAC,2BAAD,EAA8B;MACjCC,MAAM,EAAE,MADyB;MAEjCC,OAAO,EAAE;QACP,gBAAgB,kBADT;QAEP,iBAAiB;MAFV,CAFwB;MAMjCC,IAAI,EAAEC,IAAI,CAACC,SAAL,CAAe;QACnB,SAAS;MADU,CAAf;IAN2B,CAA9B,CAAL,CAUGC,IAVH,CAUSC,GAAD,IAASA,GAAG,CAACC,IAAJ,EAVjB,EAWGF,IAXH,CAWSG,IAAD,IAAU;MACd,MAAMC,MAAM,GAAGD,IAAI,CAACA,IAAL,CAAUC,MAAzB;MACA,MAAMd,YAAY,GAAG,EAArB;MACA,MAAMC,SAAS,GAAGa,MAAM,CAAC,CAAD,CAAN,CAAUb,SAA5B;MACA,MAAMC,SAAS,GAAGY,MAAM,CAAC,CAAD,CAAN,CAAUC,IAA5B;MACAC,OAAO,CAACC,GAAR,CAAYhB,SAAZ;MACAe,OAAO,CAACC,GAAR,CAAYf,SAAZ;MAEA,MAAMgB,aAAa,GAAGjB,SAAS,CAACc,IAAhC;MAEAD,MAAM,CAACK,OAAP,CAAgBC,KAAD,IAAW;QACxBA,KAAK,CAACC,KAAN,CAAYF,OAAZ,CAAqBG,IAAD,IAAU;UAC5B,MAAMC,OAAO,GAAGD,IAAI,CAACE,KAAL,CAAWC,EAA3B;;UACA,IAAI,CAACzB,YAAY,CAACuB,OAAD,CAAjB,EAA4B;YAC1BvB,YAAY,CAACuB,OAAD,CAAZ,GAAwB;cACtBG,KAAK,EAAEJ,IAAI,CAACE,KAAL,CAAWE,KADI;cAEtBL,KAAK,EAAE;YAFe,CAAxB;UAID;;UACDrB,YAAY,CAACuB,OAAD,CAAZ,CAAsBF,KAAtB,CAA4BM,IAA5B,CAAiCL,IAAjC;QACD,CATD;MAUD,CAXD;MAaA,KAAKM,QAAL,CAAc;QAAE5B,YAAF;QAAgBC,SAAS,EAAEiB,aAA3B;QAA0ChB;MAA1C,CAAd;MACAc,OAAO,CAACC,GAAR,CAAYjB,YAAZ;IACD,CApCH,EAqCG6B,KArCH,CAqCUC,KAAD,IAAW;MAChBd,OAAO,CAACc,KAAR,CAAc,sCAAd,EAAsDA,KAAtD;IACD,CAvCH;EAwCD;;EAEDC,MAAM,GAAG;IACP,OAAO,KAAKjC,KAAL,CAAWiC,MAAX,CAAkB,KAAKhC,KAAL,CAAWC,YAA7B,CAAP;EACD;;AAxD6B;;AA2DhC,eAAeJ,OAAf"},"metadata":{},"sourceType":"module"}