{"ast":null,"code":"import React, { Component } from 'react';\nimport { apiKey, mondayboardid } from '../ManageAuthAndBoard/keyandboardid';\n\nclass ApiCall extends Component {\n  constructor(props) {\n    super(props);\n    this.state = {\n      groupedItems: {},\n      workspace: '',\n      boardName: ''\n    };\n  }\n\n  componentDidMount() {\n    // Perform the API call to fetch data from Monday.com\n    fetch(\"https://api.monday.com/v2\", {\n      method: 'post',\n      headers: {\n        'Content-Type': 'application/json',\n        'Authorization': apiKey\n      },\n      body: JSON.stringify({\n        'query': `{boards(ids:${mondayboardid}) {name workspace {id name} items{id name group{id title} column_values{id title text value type}}}}`\n      })\n    }).then(res => res.json()).then(data => {\n      const boards = data.data.boards;\n      const groupedItems = {};\n      const workspace = boards[0].workspace;\n      const boardName = boards[0].name;\n      const workspaceName = workspace.name;\n      boards.forEach(board => {\n        board.items.forEach(item => {\n          const groupId = item.group.id;\n\n          if (!groupedItems[groupId]) {\n            groupedItems[groupId] = {\n              title: item.group.title,\n              items: []\n            };\n          }\n\n          groupedItems[groupId].items.push(item);\n        });\n      });\n      this.setState({\n        groupedItems,\n        workspace: workspaceName,\n        boardName\n      });\n      console.log(groupedItems);\n    }).catch(error => {\n      console.error('Error fetching data from Monday.com:', error);\n    });\n  }\n\n  render() {\n    return this.props.render(this.state.groupedItems, this.state.workspace, this.state.boardName);\n  }\n\n}\n\nexport default ApiCall;","map":{"version":3,"names":["React","Component","apiKey","mondayboardid","ApiCall","constructor","props","state","groupedItems","workspace","boardName","componentDidMount","fetch","method","headers","body","JSON","stringify","then","res","json","data","boards","name","workspaceName","forEach","board","items","item","groupId","group","id","title","push","setState","console","log","catch","error","render"],"sources":["D:/monday.com/Monday.form/quickstart-react/src/API Call/getValues.js"],"sourcesContent":["import React, { Component } from 'react';\r\nimport { apiKey, mondayboardid } from '../ManageAuthAndBoard/keyandboardid';\r\n\r\nclass ApiCall extends Component {\r\n  constructor(props) {\r\n    super(props);\r\n    this.state = {\r\n      groupedItems: {},\r\n      workspace: '',\r\n      boardName: '',\r\n    };\r\n  }\r\n\r\n  componentDidMount() {\r\n    // Perform the API call to fetch data from Monday.com\r\n    fetch(\"https://api.monday.com/v2\", {\r\n      method: 'post',\r\n      headers: {\r\n        'Content-Type': 'application/json',\r\n        'Authorization': apiKey, \r\n      },\r\n      body: JSON.stringify({\r\n        'query': `{boards(ids:${mondayboardid}) {name workspace {id name} items{id name group{id title} column_values{id title text value type}}}}`,\r\n      }),\r\n    })\r\n      .then((res) => res.json())\r\n      .then((data) => {\r\n        const boards = data.data.boards;\r\n        const groupedItems = {};\r\n        const workspace = boards[0].workspace;\r\n        const boardName = boards[0].name;\r\n\r\n        const workspaceName = workspace.name;\r\n\r\n        boards.forEach((board) => {\r\n          board.items.forEach((item) => {\r\n            const groupId = item.group.id;\r\n            if (!groupedItems[groupId]) {\r\n              groupedItems[groupId] = {\r\n                title: item.group.title,\r\n                items: [],\r\n              };\r\n            }\r\n            groupedItems[groupId].items.push(item);\r\n          });\r\n        });\r\n\r\n        this.setState({ groupedItems, workspace: workspaceName, boardName });\r\n        console.log(groupedItems);\r\n      })\r\n      .catch((error) => {\r\n        console.error('Error fetching data from Monday.com:', error);\r\n      });\r\n  }\r\n\r\n  render() {\r\n    return this.props.render(this.state.groupedItems, this.state.workspace, this.state.boardName);\r\n  }\r\n}\r\n\r\nexport default ApiCall;\r\n"],"mappings":"AAAA,OAAOA,KAAP,IAAgBC,SAAhB,QAAiC,OAAjC;AACA,SAASC,MAAT,EAAiBC,aAAjB,QAAsC,qCAAtC;;AAEA,MAAMC,OAAN,SAAsBH,SAAtB,CAAgC;EAC9BI,WAAW,CAACC,KAAD,EAAQ;IACjB,MAAMA,KAAN;IACA,KAAKC,KAAL,GAAa;MACXC,YAAY,EAAE,EADH;MAEXC,SAAS,EAAE,EAFA;MAGXC,SAAS,EAAE;IAHA,CAAb;EAKD;;EAEDC,iBAAiB,GAAG;IAClB;IACAC,KAAK,CAAC,2BAAD,EAA8B;MACjCC,MAAM,EAAE,MADyB;MAEjCC,OAAO,EAAE;QACP,gBAAgB,kBADT;QAEP,iBAAiBZ;MAFV,CAFwB;MAMjCa,IAAI,EAAEC,IAAI,CAACC,SAAL,CAAe;QACnB,SAAU,eAAcd,aAAc;MADnB,CAAf;IAN2B,CAA9B,CAAL,CAUGe,IAVH,CAUSC,GAAD,IAASA,GAAG,CAACC,IAAJ,EAVjB,EAWGF,IAXH,CAWSG,IAAD,IAAU;MACd,MAAMC,MAAM,GAAGD,IAAI,CAACA,IAAL,CAAUC,MAAzB;MACA,MAAMd,YAAY,GAAG,EAArB;MACA,MAAMC,SAAS,GAAGa,MAAM,CAAC,CAAD,CAAN,CAAUb,SAA5B;MACA,MAAMC,SAAS,GAAGY,MAAM,CAAC,CAAD,CAAN,CAAUC,IAA5B;MAEA,MAAMC,aAAa,GAAGf,SAAS,CAACc,IAAhC;MAEAD,MAAM,CAACG,OAAP,CAAgBC,KAAD,IAAW;QACxBA,KAAK,CAACC,KAAN,CAAYF,OAAZ,CAAqBG,IAAD,IAAU;UAC5B,MAAMC,OAAO,GAAGD,IAAI,CAACE,KAAL,CAAWC,EAA3B;;UACA,IAAI,CAACvB,YAAY,CAACqB,OAAD,CAAjB,EAA4B;YAC1BrB,YAAY,CAACqB,OAAD,CAAZ,GAAwB;cACtBG,KAAK,EAAEJ,IAAI,CAACE,KAAL,CAAWE,KADI;cAEtBL,KAAK,EAAE;YAFe,CAAxB;UAID;;UACDnB,YAAY,CAACqB,OAAD,CAAZ,CAAsBF,KAAtB,CAA4BM,IAA5B,CAAiCL,IAAjC;QACD,CATD;MAUD,CAXD;MAaA,KAAKM,QAAL,CAAc;QAAE1B,YAAF;QAAgBC,SAAS,EAAEe,aAA3B;QAA0Cd;MAA1C,CAAd;MACAyB,OAAO,CAACC,GAAR,CAAY5B,YAAZ;IACD,CAlCH,EAmCG6B,KAnCH,CAmCUC,KAAD,IAAW;MAChBH,OAAO,CAACG,KAAR,CAAc,sCAAd,EAAsDA,KAAtD;IACD,CArCH;EAsCD;;EAEDC,MAAM,GAAG;IACP,OAAO,KAAKjC,KAAL,CAAWiC,MAAX,CAAkB,KAAKhC,KAAL,CAAWC,YAA7B,EAA2C,KAAKD,KAAL,CAAWE,SAAtD,EAAiE,KAAKF,KAAL,CAAWG,SAA5E,CAAP;EACD;;AAtD6B;;AAyDhC,eAAeN,OAAf"},"metadata":{},"sourceType":"module"}