{"ast":null,"code":"import _createForOfIteratorHelper from\"D:/monday.com/Monday.form/quickstart-react/node_modules/@babel/runtime/helpers/esm/createForOfIteratorHelper.js\";import _regeneratorRuntime from\"D:/monday.com/Monday.form/quickstart-react/node_modules/@babel/runtime/helpers/esm/regeneratorRuntime.js\";import _objectWithoutProperties from\"D:/monday.com/Monday.form/quickstart-react/node_modules/@babel/runtime/helpers/esm/objectWithoutProperties.js\";import _asyncToGenerator from\"D:/monday.com/Monday.form/quickstart-react/node_modules/@babel/runtime/helpers/esm/asyncToGenerator.js\";import _defineProperty from\"D:/monday.com/Monday.form/quickstart-react/node_modules/@babel/runtime/helpers/esm/defineProperty.js\";import _objectSpread from\"D:/monday.com/Monday.form/quickstart-react/node_modules/@babel/runtime/helpers/esm/objectSpread2.js\";import _classCallCheck from\"D:/monday.com/Monday.form/quickstart-react/node_modules/@babel/runtime/helpers/esm/classCallCheck.js\";import _createClass from\"D:/monday.com/Monday.form/quickstart-react/node_modules/@babel/runtime/helpers/esm/createClass.js\";import _inherits from\"D:/monday.com/Monday.form/quickstart-react/node_modules/@babel/runtime/helpers/esm/inherits.js\";import _createSuper from\"D:/monday.com/Monday.form/quickstart-react/node_modules/@babel/runtime/helpers/esm/createSuper.js\";var _excluded=[\"boardId\",\"groupId\",\"columns\"];import React,{Component}from'react';import'./Form.css';import{fetchColumns,fetchBoardAndGroupId}from'./getids';import{createItem}from'./mutation';import PopupMessage from'./PopupMessage';import{jsx as _jsx}from\"react/jsx-runtime\";import{jsxs as _jsxs}from\"react/jsx-runtime\";var Form=/*#__PURE__*/function(_Component){_inherits(Form,_Component);var _super=_createSuper(Form);function Form(props){var _this;_classCallCheck(this,Form);_this=_super.call(this,props);_this.handlePopupClose=function(){_this.setState({showPopup:false,popupMessage:''});};_this.handleBoardRelationChange=function(e,column){var selectedItemId=e.target.value;var selectedBoardItems=_this.state[column.id].items;var selectedItem=selectedBoardItems.find(function(item){return item.id===selectedItemId;});// Populate Manager field based on the selected board-relation option\nvar managerValue=selectedItem?selectedItem.person:'';_this.setState(function(prevState){var _objectSpread2;return _objectSpread(_objectSpread({},prevState),{},(_objectSpread2={},_defineProperty(_objectSpread2,column.id,{selectedItemId:selectedItemId,selectedItem:selectedItem,items:prevState[column.id].items}),_defineProperty(_objectSpread2,\"managerFieldId\",managerValue),_defineProperty(_objectSpread2,\"managerFieldName\",managerValue),_objectSpread2));});};_this.handleCheckboxChange=function(e,column){var checked=e.target.checked;_this.setState(_defineProperty({},column.id,checked));};_this.handleInputChange=function(e,column){var value=e.target.value;_this.setState(function(prevState){return _objectSpread(_objectSpread({},prevState),{},_defineProperty({},column.id,value));});};_this.handleHourChange=function(e,column){var value=e.target.value;_this.setState(function(prevState){return _objectSpread(_objectSpread({},prevState),{},_defineProperty({},column.id,value));});};_this.handleSubmit=/*#__PURE__*/function(){var _ref=_asyncToGenerator(/*#__PURE__*/_regeneratorRuntime().mark(function _callee(e){var _this$state,boardId,groupId,columns,values,columnValues,columnData,newItem;return _regeneratorRuntime().wrap(function _callee$(_context){while(1){switch(_context.prev=_context.next){case 0:e.preventDefault();_this$state=_this.state,boardId=_this$state.boardId,groupId=_this$state.groupId,columns=_this$state.columns,values=_objectWithoutProperties(_this$state,_excluded);//const initialValues = {};\ncolumnValues={};columns.forEach(function(column){var columnId=column.id;if(values[columnId]!==undefined&&values[columnId]!==null){if(column.type==='board-relation'){// Check if a value is selected for the board-relation column\nif(values[columnId].selectedItemId){columnValues[columnId]=values[columnId].selectedItemId;}// Do not include the field if no value is selected\n}else if(column.type==='boolean'){// Handle checkbox type column\ncolumnValues[columnId]=values[columnId]?'true':'false';}else if(column.type==='hour'){// Handle hour type column\ncolumnValues[columnId]=JSON.stringify({hour:parseInt(values[columnId].split(':')[0]),// Extract hour part and convert to integer\nminute:parseInt(values[columnId].split(':')[1])// Extract minute part and convert to integer\n});}else{columnValues[columnId]=values[columnId];}}});columnData=columns.map(function(column){return{id:column.id,value:_this.state[column.id],type:column.type};});_context.prev=5;_context.next=8;return createItem(boardId,groupId,columnData);case 8:newItem=_context.sent;if(newItem){_this.setState({successMessage:'Item created successfully',errorMessage:'',showPopup:true,popupMessage:'Item created successfully',popupType:'success'});_this.resetFormState();setTimeout(function(){_this.setState({successMessage:''});},3000);}else{_this.setState({errorMessage:'Error creating item',successMessage:'',showPopup:true,popupMessage:'Error creating item',popupType:'error'});}_context.next=16;break;case 12:_context.prev=12;_context.t0=_context[\"catch\"](5);console.error('Error creating item:',_context.t0);_this.setState({errorMessage:'Error creating item',successMessage:'',showPopup:true,popupMessage:'Error creating item',popupType:'error'});case 16:case\"end\":return _context.stop();}}},_callee,null,[[5,12]]);}));return function(_x){return _ref.apply(this,arguments);};}();_this.state=_objectSpread({columns:[],boardId:null,groupId:null,successMessage:'',errorMessage:'',showPopup:false,popupMessage:'',popupType:'success',edit:false},props);return _this;}_createClass(Form,[{key:\"componentDidMount\",value:function(){var _componentDidMount=_asyncToGenerator(/*#__PURE__*/_regeneratorRuntime().mark(function _callee2(){var columns,_yield$fetchBoardAndG,boardId,groupId,initialValues,boardRelationColumns,_iterator,_step,boardRelationColumn,_JSON$parse,boardIds,boardItems;return _regeneratorRuntime().wrap(function _callee2$(_context2){while(1){switch(_context2.prev=_context2.next){case 0:_context2.prev=0;_context2.next=3;return fetchColumns();case 3:columns=_context2.sent;_context2.next=6;return fetchBoardAndGroupId();case 6:_yield$fetchBoardAndG=_context2.sent;boardId=_yield$fetchBoardAndG.boardId;groupId=_yield$fetchBoardAndG.groupId;initialValues={};boardRelationColumns=columns.filter(function(column){return column.type==='board-relation';});// Fetch and populate data for board-relation columns\n_iterator=_createForOfIteratorHelper(boardRelationColumns);_context2.prev=12;_iterator.s();case 14:if((_step=_iterator.n()).done){_context2.next=23;break;}boardRelationColumn=_step.value;_JSON$parse=JSON.parse(boardRelationColumn.settings_str),boardIds=_JSON$parse.boardIds;_context2.next=19;return this.fetchBoardItems(boardIds[0]);case 19:boardItems=_context2.sent;initialValues[boardRelationColumn.id]={selectedItemId:'',// Initialize selectedItemId\nselectedItem:null,// Initialize selectedItem\nitems:boardItems};case 21:_context2.next=14;break;case 23:_context2.next=28;break;case 25:_context2.prev=25;_context2.t0=_context2[\"catch\"](12);_iterator.e(_context2.t0);case 28:_context2.prev=28;_iterator.f();return _context2.finish(28);case 31:// Initialize other columns\ncolumns.forEach(function(column){if(column.type!=='board-relation'){initialValues[column.id]=null;}});this.setState(_objectSpread({columns:columns,boardId:boardId,groupId:groupId},initialValues));_context2.next=38;break;case 35:_context2.prev=35;_context2.t1=_context2[\"catch\"](0);console.error('Error Fetching data.',_context2.t1);case 38:case\"end\":return _context2.stop();}}},_callee2,this,[[0,35],[12,25,28,31]]);}));function componentDidMount(){return _componentDidMount.apply(this,arguments);}return componentDidMount;}()},{key:\"fetchBoardItems\",value:function(){var _fetchBoardItems=_asyncToGenerator(/*#__PURE__*/_regeneratorRuntime().mark(function _callee3(boardId){var response,data;return _regeneratorRuntime().wrap(function _callee3$(_context3){while(1){switch(_context3.prev=_context3.next){case 0:_context3.prev=0;_context3.next=3;return fetch(\"https://api.monday.com/v2\",{method:'POST',headers:{'Content-Type':'application/json','Authorization':'eyJhbGciOiJIUzI1NiJ9.eyJ0aWQiOjI5MTk3MzkwMCwiYWFpIjoxMSwidWlkIjo1MDc0MDc5NiwiaWFkIjoiMjAyMy0xMC0yNlQxMTozOToxNy4wMDBaIiwicGVyIjoibWU6d3JpdGUiLCJhY3RpZCI6MTg2ODA3NDQsInJnbiI6InVzZTEifQ.YqNGkoV6ioF5pgYl_F9t32cOSUxaX_ETL_iPmpEjBOk'// Replace with your Monday.com API key\n},body:JSON.stringify({query:\"\\n            query {\\n              boards(ids: \".concat(boardId,\") {\\n                items {\\n                  id\\n                  name\\n                  group {\\n                    id\\n                    title\\n                  }\\n                  column_values {\\n                    id\\n                    title\\n                    text\\n                  }\\n                }\\n              }\\n            }\\n          \")})});case 3:response=_context3.sent;_context3.next=6;return response.json();case 6:data=_context3.sent;if(!(data.data&&data.data.boards&&data.data.boards.length>0)){_context3.next=9;break;}return _context3.abrupt(\"return\",data.data.boards[0].items.map(function(item){var managerColumn=item.column_values.find(function(column){return column.title==='Person';});return{id:item.id,name:item.name,group:item.group,manager:managerColumn?managerColumn.text:''};}).filter(function(item){return item.group.title==='On Going Projects';}));case 9:return _context3.abrupt(\"return\",[]);case 12:_context3.prev=12;_context3.t0=_context3[\"catch\"](0);console.error('Error fetching board items:',_context3.t0);return _context3.abrupt(\"return\",[]);case 16:case\"end\":return _context3.stop();}}},_callee3,null,[[0,12]]);}));function fetchBoardItems(_x2){return _fetchBoardItems.apply(this,arguments);}return fetchBoardItems;}()},{key:\"resetFormState\",value:function resetFormState(){var columns=this.state.columns;var initialValues={};columns.forEach(function(column){initialValues[column.id]=null;});this.setState(_objectSpread({successMessage:'',errorMessage:''},initialValues));}},{key:\"render\",value:function render(){var _this2=this;var _this$state2=this.state,columns=_this$state2.columns,successMessage=_this$state2.successMessage,errorMessage=_this$state2.errorMessage,showPopup=_this$state2.showPopup,popupMessage=_this$state2.popupMessage,popupType=_this$state2.popupType,edit=_this$state2.edit;// Filter out columns \nvar filteredColumns=columns.filter(function(column){return column.title!==\"Subitems\"&&column.title!==\"Person\";});// Inside the render method\nreturn/*#__PURE__*/_jsxs(\"div\",{className:\"form-container\",children:[/*#__PURE__*/_jsx(\"h1\",{children:\"Time Entry Form\"}),/*#__PURE__*/_jsxs(\"form\",{onSubmit:this.handleSubmit,children:[/*#__PURE__*/_jsx(\"div\",{className:\"form-row\",children:filteredColumns.map(function(column,index){return/*#__PURE__*/_jsxs(\"div\",{className:\"form-input\",children:[/*#__PURE__*/_jsx(\"label\",{children:column.title}),column.title===\"Manager\"&&!edit?/*#__PURE__*/_jsx(\"input\",{type:column.type==='color'?'text':column.type,name:column.title,value:_this2.state[column.id]||'',disabled:true}):column.type==='board-relation'?/*#__PURE__*/_jsxs(\"select\",{name:column.title,value:_this2.state[column.id]?_this2.state[column.id].selectedItemId:'',onChange:function onChange(e){return _this2.handleBoardRelationChange(e,column);},children:[/*#__PURE__*/_jsx(\"option\",{value:\"\",children:\"Select an option\"}),_this2.state[column.id]&&_this2.state[column.id].items.map(function(item){return/*#__PURE__*/_jsx(\"option\",{value:item.id,children:item.name},item.id);})]}):column.type==='color'?/*#__PURE__*/_jsx(\"span\",{children:\"In Approval\"})// <select\n//   name={column.title}\n//   value={this.state[column.id] || ''}\n//   onChange={(e) => this.handleInputChange(e, column)}\n// >\n//   {column.settings_str ? (\n//     Object.keys(JSON.parse(column.settings_str).labels).map((labelKey) => (\n//       <option\n//         key={labelKey}\n//         value={labelKey}  \n//       >\n//         {JSON.parse(column.settings_str).labels[labelKey]}\n//       </option>\n//     ))\n//   ) : null}\n// </select>\n:column.type==='hour'?/*#__PURE__*/_jsx(\"div\",{children:/*#__PURE__*/_jsx(\"input\",{type:\"time\",name:column.title,value:_this2.state[column.id]||''// Set the checked attribute based on the state\n,onChange:function onChange(e){return _this2.handleHourChange(e,column);}})}):column.type==='boolean'?/*#__PURE__*/_jsx(\"div\",{children:/*#__PURE__*/_jsx(\"input\",{type:\"checkbox\",name:column.title,checked:_this2.state[column.id]||false// Set the checked attribute based on the state\n,onChange:function onChange(e){return _this2.handleCheckboxChange(e,column);}})}):/*#__PURE__*/_jsx(\"input\",{type:column.type==='color'?'text':column.type,name:column.title,value:_this2.state[column.id]||'',onChange:function onChange(e){return _this2.handleInputChange(e,column);}})]},column.id);})}),/*#__PURE__*/_jsx(\"div\",{className:\"form-submit\",children:/*#__PURE__*/_jsx(\"button\",{type:\"submit\",children:\"Submit\"})})]}),successMessage&&/*#__PURE__*/_jsx(\"div\",{className:\"success-message\",children:successMessage}),errorMessage&&/*#__PURE__*/_jsx(\"div\",{className:\"error-message\",children:errorMessage}),showPopup&&/*#__PURE__*/_jsx(PopupMessage,{message:popupMessage,type:popupType,onClose:this.handlePopupClose})]});}}]);return Form;}(Component);export default Form;","map":{"version":3,"names":["React","Component","fetchColumns","fetchBoardAndGroupId","createItem","PopupMessage","Form","props","handlePopupClose","setState","showPopup","popupMessage","handleBoardRelationChange","e","column","selectedItemId","target","value","selectedBoardItems","state","id","items","selectedItem","find","item","managerValue","person","prevState","handleCheckboxChange","checked","handleInputChange","handleHourChange","handleSubmit","preventDefault","boardId","groupId","columns","values","columnValues","forEach","columnId","undefined","type","JSON","stringify","hour","parseInt","split","minute","columnData","map","newItem","successMessage","errorMessage","popupType","resetFormState","setTimeout","console","error","edit","initialValues","boardRelationColumns","filter","boardRelationColumn","parse","settings_str","boardIds","fetchBoardItems","boardItems","fetch","method","headers","body","query","response","json","data","boards","length","managerColumn","column_values","title","name","group","manager","text","filteredColumns","index"],"sources":["D:/monday.com/Monday.form/quickstart-react/src/Form.js"],"sourcesContent":["import React, { Component } from 'react';\r\nimport './Form.css';\r\nimport { fetchColumns, fetchBoardAndGroupId } from './getids';\r\nimport { createItem } from './mutation';\r\nimport PopupMessage from './PopupMessage';\r\n\r\nclass Form extends Component {\r\n  constructor(props) {\r\n    super(props);\r\n    this.state = {\r\n      columns: [],\r\n      boardId: null,\r\n      groupId: null,\r\n      successMessage: '',\r\n      errorMessage: '',\r\n      showPopup: false,\r\n      popupMessage: '',\r\n      popupType: 'success',\r\n      edit: false, // Set edit to true or false based on your requirement\r\n      ...props,\r\n    };\r\n  }\r\n\r\n  handlePopupClose = () => {\r\n    this.setState({\r\n      showPopup: false,\r\n      popupMessage: '',\r\n    });\r\n  };\r\n\r\n  async componentDidMount() {\r\n    try {\r\n      const columns = await fetchColumns();\r\n      const { boardId, groupId } = await fetchBoardAndGroupId();\r\n      const initialValues = {};\r\n      const boardRelationColumns = columns.filter((column) => column.type === 'board-relation');\r\n\r\n      // Fetch and populate data for board-relation columns\r\n      for (const boardRelationColumn of boardRelationColumns) {\r\n        const { boardIds } = JSON.parse(boardRelationColumn.settings_str);\r\n        const boardItems = await this.fetchBoardItems(boardIds[0]);\r\n        initialValues[boardRelationColumn.id] = {\r\n          selectedItemId: '', // Initialize selectedItemId\r\n          selectedItem: null, // Initialize selectedItem\r\n          items: boardItems,\r\n        };\r\n      }\r\n\r\n      // Initialize other columns\r\n      columns.forEach((column) => {\r\n        if (column.type !== 'board-relation') {\r\n          initialValues[column.id] = null;\r\n        }\r\n      });\r\n\r\n      this.setState({ columns, boardId, groupId, ...initialValues });\r\n    } catch (error) {\r\n      console.error('Error Fetching data.', error);\r\n    }\r\n  }\r\n\r\n  handleBoardRelationChange = (e, column) => {\r\n    const selectedItemId = e.target.value;\r\n    const selectedBoardItems = this.state[column.id].items;\r\n    const selectedItem = selectedBoardItems.find(item => item.id === selectedItemId);\r\n\r\n    // Populate Manager field based on the selected board-relation option\r\n    const managerValue = selectedItem ? selectedItem.person : '';\r\n    this.setState((prevState) => ({\r\n      ...prevState,\r\n      [column.id]: {\r\n        selectedItemId,\r\n        selectedItem,\r\n        items: prevState[column.id].items,\r\n      },\r\n      // Populate Manager field\r\n      managerFieldId: managerValue,\r\n      managerFieldName: managerValue,\r\n    }));\r\n  };\r\n\r\n  async fetchBoardItems(boardId) {\r\n    try {\r\n      const response = await fetch(`https://api.monday.com/v2`, {\r\n        method: 'POST',\r\n        headers: {\r\n          'Content-Type': 'application/json',\r\n          'Authorization': 'eyJhbGciOiJIUzI1NiJ9.eyJ0aWQiOjI5MTk3MzkwMCwiYWFpIjoxMSwidWlkIjo1MDc0MDc5NiwiaWFkIjoiMjAyMy0xMC0yNlQxMTozOToxNy4wMDBaIiwicGVyIjoibWU6d3JpdGUiLCJhY3RpZCI6MTg2ODA3NDQsInJnbiI6InVzZTEifQ.YqNGkoV6ioF5pgYl_F9t32cOSUxaX_ETL_iPmpEjBOk', // Replace with your Monday.com API key\r\n        },\r\n        body: JSON.stringify({\r\n          query: `\r\n            query {\r\n              boards(ids: ${boardId}) {\r\n                items {\r\n                  id\r\n                  name\r\n                  group {\r\n                    id\r\n                    title\r\n                  }\r\n                  column_values {\r\n                    id\r\n                    title\r\n                    text\r\n                  }\r\n                }\r\n              }\r\n            }\r\n          `,\r\n        }),\r\n      });\r\n\r\n      const data = await response.json();\r\n\r\n      if (data.data && data.data.boards && data.data.boards.length > 0) {\r\n        return data.data.boards[0].items.map(item => {\r\n          const managerColumn = item.column_values.find(column => column.title === 'Person');\r\n          return {\r\n            id: item.id,\r\n            name: item.name,\r\n            group: item.group,\r\n            manager: managerColumn ? managerColumn.text : '',\r\n          };\r\n        }).filter(item => item.group.title === 'On Going Projects');\r\n      }\r\n\r\n      return [];\r\n    } catch (error) {\r\n      console.error('Error fetching board items:', error);\r\n      return [];\r\n    }\r\n  }\r\n\r\n  handleCheckboxChange = (e, column) => {\r\n    const { checked } = e.target;\r\n    this.setState({\r\n      [column.id]: checked,\r\n    });\r\n  };\r\n\r\n  handleInputChange = (e, column) => {\r\n    const { value } = e.target;\r\n    this.setState((prevState) => ({\r\n      ...prevState,\r\n      [column.id]: value,\r\n    }));\r\n  }\r\n\r\n  resetFormState() {\r\n    const { columns } = this.state;\r\n    const initialValues = {};\r\n    columns.forEach((column) => {\r\n      initialValues[column.id] = null;\r\n    });\r\n\r\n    this.setState({ successMessage: '', errorMessage: '', ...initialValues });\r\n  }\r\n  \r\n  handleHourChange = (e, column) => {\r\n    const { value } = e.target;\r\n    this.setState((prevState) => ({\r\n      ...prevState,\r\n      [column.id]: value,\r\n    }));\r\n  }\r\n\r\n  handleSubmit = async (e) => {\r\n    e.preventDefault();\r\n    const { boardId, groupId, columns, ...values } = this.state;\r\n    //const initialValues = {};\r\n    const columnValues = {};\r\n    columns.forEach((column) => {\r\n      const columnId = column.id;\r\n      if (values[columnId] !== undefined && values[columnId] !== null) {\r\n        if (column.type === 'board-relation') {\r\n          // Check if a value is selected for the board-relation column\r\n          if (values[columnId].selectedItemId) {\r\n            columnValues[columnId] = values[columnId].selectedItemId;\r\n          } // Do not include the field if no value is selected\r\n        } else if (column.type === 'boolean') {\r\n          // Handle checkbox type column\r\n          columnValues[columnId] = values[columnId] ? 'true' : 'false';\r\n        } else if (column.type === 'hour') {\r\n          // Handle hour type column\r\n          columnValues[columnId] = JSON.stringify({\r\n            hour: parseInt(values[columnId].split(':')[0]),  // Extract hour part and convert to integer\r\n            minute: parseInt(values[columnId].split(':')[1]),  // Extract minute part and convert to integer\r\n          });\r\n        } else {\r\n          columnValues[columnId] = values[columnId];\r\n        }\r\n      }\r\n    });\r\n\r\n    const columnData = columns.map((column) => ({\r\n      id: column.id,\r\n      value: this.state[column.id],\r\n      type: column.type,\r\n    }));\r\n\r\n    try {\r\n      const newItem = await createItem(boardId, groupId, columnData);\r\n\r\n      if (newItem) {\r\n        this.setState({\r\n          successMessage: 'Item created successfully',\r\n          errorMessage: '',\r\n          showPopup: true,\r\n          popupMessage: 'Item created successfully',\r\n          popupType: 'success',\r\n        });\r\n        this.resetFormState();\r\n        setTimeout(() => {\r\n          this.setState({ successMessage: '' });\r\n        }, 3000);\r\n      } else {\r\n        this.setState({\r\n          errorMessage: 'Error creating item',\r\n          successMessage: '',\r\n          showPopup: true,\r\n          popupMessage: 'Error creating item',\r\n          popupType: 'error',\r\n        });\r\n      }\r\n    } catch (error) {\r\n      console.error('Error creating item:', error);\r\n      this.setState({\r\n        errorMessage: 'Error creating item',\r\n        successMessage: '',\r\n        showPopup: true,\r\n        popupMessage: 'Error creating item',\r\n        popupType: 'error',\r\n      });\r\n    }\r\n  }\r\n\r\n  render() {\r\n    const { columns, successMessage, errorMessage, showPopup, popupMessage, popupType, edit } = this.state;\r\n\r\n    // Filter out columns \r\n    const filteredColumns = columns.filter(column => column.title !== \"Subitems\" && column.title !== \"Person\");\r\n    // Inside the render method\r\n    return (\r\n      <div className=\"form-container\">\r\n        <h1>Time Entry Form</h1>\r\n        <form onSubmit={this.handleSubmit}>\r\n          <div className=\"form-row\">\r\n            {filteredColumns.map((column, index) => (\r\n              <div key={column.id} className=\"form-input\">\r\n                <label>{column.title}</label>\r\n                {column.title === \"Manager\" && !edit ? (\r\n                  <input\r\n                    type={column.type === 'color' ? 'text' : column.type}\r\n                    name={column.title}\r\n                    value={this.state[column.id] || ''}\r\n                    disabled\r\n                  />\r\n                ) : column.type === 'board-relation' ? (\r\n                  <select\r\n                    name={column.title}\r\n                    value={this.state[column.id] ? this.state[column.id].selectedItemId : ''}\r\n                    onChange={(e) => this.handleBoardRelationChange(e, column)}\r\n                  >\r\n                    <option value=\"\">Select an option</option>\r\n                    {this.state[column.id] && this.state[column.id].items.map((item) => (\r\n                      <option\r\n                        key={item.id}\r\n                        value={item.id}\r\n                      >\r\n                        {item.name}\r\n                      </option>\r\n                    ))}\r\n                  </select>\r\n                ) : column.type === 'color' ? (\r\n                  <span>In Approval</span>\r\n                  // <select\r\n                  //   name={column.title}\r\n                  //   value={this.state[column.id] || ''}\r\n                  //   onChange={(e) => this.handleInputChange(e, column)}\r\n                  // >\r\n                  //   {column.settings_str ? (\r\n                  //     Object.keys(JSON.parse(column.settings_str).labels).map((labelKey) => (\r\n                  //       <option\r\n                  //         key={labelKey}\r\n                  //         value={labelKey}  \r\n                  //       >\r\n                  //         {JSON.parse(column.settings_str).labels[labelKey]}\r\n                  //       </option>\r\n                  //     ))\r\n                  //   ) : null}\r\n                  // </select>\r\n                ) : column.type === 'hour' ? (\r\n                  <div>\r\n                    <input\r\n                      type=\"time\"\r\n                      name={column.title}\r\n                      value={this.state[column.id] || ''}  // Set the checked attribute based on the state\r\n                      onChange={(e) => this.handleHourChange(e, column)}\r\n                    />\r\n                  </div>\r\n                ) : column.type === 'boolean' ? (\r\n                  <div>\r\n                    <input\r\n                      type=\"checkbox\"\r\n                      name={column.title}\r\n                      checked={this.state[column.id] || false}  // Set the checked attribute based on the state\r\n                      onChange={(e) => this.handleCheckboxChange(e, column)}\r\n                    />\r\n                  </div>\r\n                ) : (\r\n                  <input\r\n                    type={column.type === 'color' ? 'text' : column.type}\r\n                    name={column.title}\r\n                    value={this.state[column.id] || ''}\r\n                    onChange={(e) => this.handleInputChange(e, column)}\r\n                  />\r\n                )}\r\n              </div>\r\n            ))}\r\n          </div>\r\n          <div className=\"form-submit\">\r\n            <button type=\"submit\">Submit</button>\r\n          </div>\r\n        </form>\r\n        {successMessage && <div className=\"success-message\">{successMessage}</div>}\r\n        {errorMessage && <div className=\"error-message\">{errorMessage}</div>}\r\n        {showPopup && (\r\n          <PopupMessage message={popupMessage} type={popupType} onClose={this.handlePopupClose} />\r\n        )}\r\n      </div>\r\n    );\r\n  }\r\n}\r\n\r\nexport default Form;\r\n"],"mappings":"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"},"metadata":{},"sourceType":"module"}